<!doctype html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Nhận diện cảm xúc</title>
    <link rel="stylesheet" href="EmotionMultipleChoices.css" />
</head>
<body class="app-bg">
<div class="container">
    <h1 class="title">Nhận diện cảm xúc</h1>

    <div class="grid">
        <!-- Bên trái: khuôn mặt -->
        <section class="face-card" aria-label="Khuôn mặt minh họa">
            <div class="glow"></div>
            <div class="face">
                <div class="eye eye-left"></div>
                <div class="eye eye-right"></div>
                <svg class="smile" viewBox="0 0 120 60" aria-hidden="true">
                    <path d="M 20 20 Q 60 60 100 20" />
                </svg>
            </div>
            <p class="caption">Bức ảnh này thể hiện cảm xúc gì?</p>
        </section>

        <!-- Bên phải: 4 lựa chọn -->
        <section class="options" aria-label="Chọn 1 cảm xúc">
            <button class="option" data-id="happy" data-color="purple">
                <span class="label">Vui</span><span class="emoji" aria-hidden="true">😄</span>
                <span class="check" aria-hidden="true">✔</span>
            </button>

            <button class="option" data-id="sad" data-color="blue">
                <span class="label">Buồn</span><span class="emoji" aria-hidden="true">😢</span>
                <span class="check" aria-hidden="true">✔</span>
            </button>

            <button class="option" data-id="angry" data-color="red">
                <span class="label">Tức giận</span><span class="emoji" aria-hidden="true">😡</span>
                <span class="check" aria-hidden="true">✔</span>
            </button>

            <button class="option" data-id="surprised" data-color="amber">
                <span class="label">Ngạc nhiên</span><span class="emoji" aria-hidden="true">😲</span>
                <span class="check" aria-hidden="true">✔</span>
            </button>
        </section>
    </div>

    <!-- Phản hồi -->
    <div id="feedback" class="feedback feedback-neutral" role="status" aria-live="polite">
        Chọn 1 đáp án để kiểm tra.
    </div>

    <!-- Nút hành động (demo) -->
    <div class="actions">
        <button id="newImage" class="btn btn-outline">🔄 Ảnh khác</button>
        <button class="btn btn-primary">💾 Lưu</button>
    </div>
</div>

<script>
    // Cấu hình đáp án đúng
    const CORRECT = 'happy';

    const options = document.querySelectorAll('.option');
    const feedback = document.getElementById('feedback');
    let selected = null;

    function selectOption(btn) {
        options.forEach(o => o.classList.remove('selected', 'color-purple', 'color-blue', 'color-red', 'color-amber'));
        btn.classList.add('selected', `color-${btn.dataset.color}`);
        selected = btn.dataset.id;

        const isCorrect = selected === CORRECT;
        feedback.className = 'feedback ' + (isCorrect ? 'feedback-correct' : 'feedback-incorrect');
        feedback.textContent = isCorrect
            ? `Đúng rồi! ✨ Là "${btn.querySelector('.label').textContent}".`
            : `Hãy thử lại! 💪 Đáp án đúng là "Vui".`;
    }

    options.forEach(btn => {
        btn.addEventListener('click', () => selectOption(btn));
        // Keyboard accessibility
        btn.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); selectOption(btn); }
        });
    });

    document.getElementById('newImage').addEventListener('click', () => {
        options.forEach(o => o.classList.remove('selected', 'color-purple', 'color-blue', 'color-red', 'color-amber'));
        selected = null;
        feedback.className = 'feedback feedback-neutral';
        feedback.textContent = 'Chọn 1 đáp án để kiểm tra.';
    });
</script>
</body>
</html>
